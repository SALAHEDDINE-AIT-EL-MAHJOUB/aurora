<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AURORA</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="../assets/logo.png" type="image/png" />
</head>
<body class="bg-gray-50 text-gray-800">
  <div class="max-w-7xl mx-auto p-6">
    <header class="mb-6 flex items-center justify-between">
      <h1 class="text-2xl font-semibold flex items-center space-x-3">
        <img src="../assets/logo.png" alt="AURORA" class="h-10 w-10 object-contain" onerror="this.style.display='none'" />
        <span>AURORA</span>
      </h1>
    </header>

    <!-- Search & Filters -->
    <div class="max-w-7xl mx-auto px-6 mb-6">
      <div class="flex flex-col sm:flex-row sm:items-center sm:space-x-4 gap-3">
        <input id="search-input" type="search" placeholder="Rechercher un produit..." class="flex-1 border rounded p-2" />
        <select id="filter-select" class="border rounded p-2 w-48">
          <option value="all">Tous</option>
          <option value="promo">En promotion</option>
          <option value="price_asc">Prix: croissant</option>
          <option value="price_desc">Prix: décroissant</option>
        </select>
      </div>
    </div>

    <main>
      <div id="products" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </main>
  </div>

    <!-- Logo (replace src with your logo file if available) -->
      <div class="max-w-7xl mx-auto p-6 flex items-center justify-center">
        <img id="site-logo" src="../assets/logo.png" alt="Logo" class="h-20 object-contain" onerror="this.style.display='none';document.getElementById('site-logo-text').style.display='block';" />
        <div id="site-logo-text" class="text-4xl font-serif text-rose-600" style="display:none">AURORA</div>
      </div>

  <!-- Product detail modal -->
  <div id="product-modal" class="fixed inset-0 bg-black/40 hidden flex items-center justify-center z-50">
    <div class="bg-white rounded-lg w-11/12 max-w-2xl p-6 shadow-lg max-h-[85vh] overflow-y-auto">
      <div class="flex justify-between items-start">
        <h2 id="pm-name" class="text-lg font-semibold">Produit</h2>
        <button id="pm-close" class="text-gray-500 hover:text-gray-800">✕</button>
      </div>
      <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <img id="pm-image" src="" alt="" class="w-full h-56 object-cover rounded" />
        </div>
        <div>
          <div id="pm-unit" class="text-sm text-gray-600"></div>
          <div id="pm-price" class="mt-2 text-xl font-bold"></div>
          <div id="pm-delivery" class="mt-2 text-sm text-gray-700"></div>
          <div id="pm-total" class="mt-2 text-lg font-semibold"></div>
          <div id="pm-stock" class="mt-2 text-sm text-green-700"></div>
          <div id="pm-expiry" class="mt-2 text-sm text-orange-600"></div>
          <p id="pm-desc" class="mt-3 text-sm text-gray-700"></p>

            <div class="mt-4">
            <label class="block text-sm font-medium">Variantes</label>
            <div class="flex items-center space-x-2">
              <select id="pm-variant" class="mt-1 block w-full border rounded p-2">
                <option value="">Aucune</option>
              </select>
              <span id="pm-variant-stock" class="text-sm text-gray-600"></span>
              <div class="ml-2">
                <label for="order-quantity" class="sr-only">Quantité</label>
                <input id="order-quantity" type="number" min="1" value="1" class="w-24 border rounded p-2" />
              </div>
            </div>
          </div>

          <form id="order-form" class="mt-4 space-y-3 max-h-[48vh] overflow-y-auto pr-2">
            <h3 class="text-md font-medium">Passer commande</h3>
            <input id="order-name" type="text" placeholder="Nom complet" class="w-full border rounded p-2" required />
            <select id="order-city" class="w-full border rounded p-2">
              <option value="">Sélectionnez une ville</option>
              <option>Casablanca</option>
              <option>Rabat</option>
              <option>Marrakech</option>
              <option>Fès</option>
              <option>Tangier</option>
              <option>Agadir</option>
              <option>Meknès</option>
              <option>Oujda</option>
              <option>Kénitra</option>
              <option>Tétouan</option>
            </select>
            <div class="flex space-x-2">
              <input id="order-phone" type="tel" placeholder="Téléphone" inputmode="numeric" maxlength="10" class="w-40 border rounded p-2" />
            </div>
            <div>
              <button id="order-submit" type="button" class="bg-blue-600 text-white px-4 py-2 rounded">Valider la commande</button>
            </div>
            <div id="order-feedback" class="text-sm mt-1"></div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase compat scripts (allow running directly via file:// without module imports) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <!-- Lottie for animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.2/lottie.min.js"></script>

  <!-- Loader overlay -->
  <div id="loader-overlay" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg p-6 flex flex-col items-center shadow-lg">
      <div id="loader-lottie" style="width:280px;height:160px"></div>
      <div class="mt-3 text-sm text-gray-700">Chargement...</div>
    </div>
  </div>

  <!-- Result overlay (success / error) -->
  <div id="result-overlay" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg w-80 p-6 shadow-lg text-center">
      <div id="tick-lottie" style="width:140px;height:140px;margin:0 auto"></div>
      <div id="cross-lottie" style="width:140px;height:140px;margin:0 auto;display:none"></div>
      <div id="result-message" class="mt-3 text-sm text-gray-800"></div>
    </div>
  </div>

  <!-- About section -->
  <footer class="bg-white mt-12 py-12">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="md:col-span-2">
          <h3 class="text-xl font-semibold mb-3">À propos</h3>
          <p class="text-sm text-gray-700">AURORA est une marque dédiée au bien-être et aux produits naturels. Nous sélectionnons avec soin des articles de qualité, fabriqués de manière responsable. Notre boutique propose des variantes, des promotions et la livraison selon votre ville.</p>
          <p class="text-sm text-gray-600 mt-3">Pour toute question, contactez-nous au <strong>+212 6X XX XX XX</strong> ou par email à <strong>contact@aurora.example</strong>.</p>
        </div>
        <div class="flex flex-col justify-between">
          <div>
            <h4 class="font-medium mb-2">Horaires</h4>
            <p class="text-sm text-gray-600">Lun - Ven: 9h - 18h<br/>Sam: 10h - 14h</p>
          </div>
          <div class="mt-4">
            <h4 class="font-medium mb-2">Suivez-nous</h4>
            <div class="flex space-x-3 text-sm">
              <a class="text-indigo-600 hover:underline" href="#">Instagram</a>
              <a class="text-indigo-600 hover:underline" href="#">Facebook</a>
              <a class="text-indigo-600 hover:underline" href="#">WhatsApp</a>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-8 text-xs text-gray-400">© <span id="year"></span> AURORA. Tous droits réservés.</div>
    </div>
  </footer>
  <script src="./shop.js"></script>
</body>
</html>
